{"version":3,"file":"datalist-polyfill.umd.js","sources":["../datalist-polyfill.js"],"sourcesContent":["/*\n * Datalist polyfill - https://github.com/mfranzke/datalist-polyfill\n * @license Copyright(c) 2017 by Maximilian Franzke\n * Supported by Christian, Johannes, @mitchhentges, @mertenhanisch, @ailintom, @Kravimir, @mischah, @hryamzik, @ottoville, @IceCreamYou, @wlekin, @eddr, @beebee1987, @mricherzhagen, @acespace90, @damien-git, @nexces, @Sora2455, @jscho13, @alexirion and @vinyfc93 - many thanks for that !\n */\n/*\n * A minimal and dependency-free vanilla JavaScript datalist polyfill.\n * Supports all standard's functionality as well as mimics other browsers behavior.\n * Tests for native support of an inputs elements datalist functionality.\n * Elsewhere the functionality gets emulated by a select element.\n */\n\n'use strict';\n\n// Performance: Set local variables\nvar dcmnt = window.document,\n\tua = window.navigator.userAgent,\n\t// Feature detection\n\tdatalistSupported =\n\t\t'list' in dcmnt.createElement('input') &&\n\t\tBoolean(dcmnt.createElement('datalist') && window.HTMLDataListElement),\n\t// IE & EDGE browser detection via UserAgent\n\t// TODO: obviously ugly. But sadly necessary until Microsoft enhances the UX within EDGE (compare to https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/9573654/)\n\t// Tested against the following UA strings: http://useragentstring.com/pages/useragentstring.php?name=Internet+Explorer\n\t// And adapted out of https://gist.github.com/gaboratorium/25f08b76eb82b1e7b91b01a0448f8b1d :\n\tisGteIE10 = Boolean(ua.match(/MSIE\\s1[01]./) || ua.match(/rv:11./)),\n\tisEDGE = Boolean(ua.indexOf('Edge/') !== -1);\n\n// Let's break here, if it's even already supported ... and not IE10+ or EDGE\nif (datalistSupported && !isGteIE10 && !isEDGE) {\n\texit;\n}\n\n// .matches polyfill\n// TODO: probably needs enhancement on the expected to be supported browsers\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector;\n}\n\n// Define some global settings and configurations\nvar touched = false,\n\t// Speaking variables for the different keycodes\n\tkeyENTER = 13,\n\tkeyESC = 27,\n\tkeyUP = 38,\n\tkeyDOWN = 40,\n\t// Defining the text / value seperator for displaying the value and text values ...\n\ttextValueSeperator = ' / ',\n\t// ... and defining the different input types that are supported by this polyfill\n\tsupportedTypes = ['text', 'email', 'number', 'search', 'tel', 'url'],\n\t// Classes for elements\n\tclassNameInput = 'polyfilled',\n\tclassNamePolyfillingSelect = 'polyfilling',\n\t// Defining a most likely unique polyfill string\n\tuniquePolyfillString = '###[P0LYFlLLed]###';\n\n// Differentiate for touch interactions, adapted by https://medium.com/@david.gilbertson/the-only-way-to-detect-touch-with-javascript-7791a3346685\nwindow.addEventListener('touchstart', function onFirstTouch() {\n\ttouched = true;\n\n\twindow.removeEventListener('touchstart', onFirstTouch);\n});\n\n// For observing any changes to the option elements within the datalist elements, define MutationObserver initially\nvar MutationObserver =\n\t\twindow.MutationObserver || window.WebKitMutationObserver,\n\tobs;\n\n// Define a new observer\nif (typeof MutationObserver !== 'undefined') {\n\tobs = new MutationObserver(function (mutations) {\n\t\tvar datalistNeedsAnUpdate = false;\n\n\t\t// Look through all mutations that just occured\n\t\tmutations.forEach(function (mutation) {\n\t\t\t// Check if any of the mutated nodes was a datalist\n\t\t\tif (\n\t\t\t\tmutation.target instanceof HTMLElement &&\n\t\t\t\tmutation.target.tagName.toLowerCase() === 'datalist' &&\n\t\t\t\tmutation.addedNodes.length > 1\n\t\t\t) {\n\t\t\t\tdatalistNeedsAnUpdate = mutation.target;\n\t\t\t}\n\t\t});\n\n\t\tif (datalistNeedsAnUpdate) {\n\t\t\tvar input = dcmnt.querySelector(\n\t\t\t\t'input[list=\"' + datalistNeedsAnUpdate.id + '\"]'\n\t\t\t);\n\n\t\t\tif (getInputValue(input) !== '') {\n\t\t\t\t// Prepare the options and toggle the visiblity afterwards\n\t\t\t\ttoggleVisibility(\n\t\t\t\t\tprepOptions(datalistNeedsAnUpdate, input).length,\n\t\t\t\t\tdatalistNeedsAnUpdate.getElementsByClassName(\n\t\t\t\t\t\tclassNamePolyfillingSelect\n\t\t\t\t\t)[0]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n}\n\n// Function regarding the inputs interactions on keyup event\nvar inputInputList = function (event) {\n\tvar input = event.target,\n\t\tdatalist = input.list,\n\t\tkeyOpen = event.keyCode === keyUP || event.keyCode === keyDOWN;\n\n\t// Check for whether the events target was an input and still check for an existing instance of the datalist and polyfilling select\n\tif (input.tagName.toLowerCase() !== 'input' || datalist === null) {\n\t\treturn;\n\t}\n\n\t// Handling IE10+ & EDGE\n\tif (isGteIE10 || isEDGE) {\n\t\t// On keypress check for value\n\t\tif (\n\t\t\tgetInputValue(input) !== '' &&\n\t\t\t!keyOpen &&\n\t\t\tevent.keyCode !== keyENTER &&\n\t\t\tevent.keyCode !== keyESC &&\n\t\t\t// As only EDGE doesn't trigger the input event after selecting an item via mouse, we need to differentiate here\n\t\t\t(isGteIE10 || input.type === 'text')\n\t\t) {\n\t\t\tupdateIEOptions(input, datalist);\n\n\t\t\t// TODO: Check whether this update is necessary depending on the options values\n\t\t\tinput.focus();\n\t\t}\n\n\t\treturn;\n\t}\n\n\tvar visible = false,\n\t\t// Creating the select if there's no instance so far (e.g. because of that it hasn't been handled or it has been dynamically inserted)\n\t\tdatalistSelect =\n\t\t\tdatalist.getElementsByClassName(classNamePolyfillingSelect)[0] ||\n\t\t\tsetUpPolyfillingSelect(input, datalist);\n\n\t// On an ESC or ENTER key press within the input, let's break here and afterwards hide the datalist select, but if the input contains a value or one of the opening keys have been pressed ...\n\tif (\n\t\tevent.keyCode !== keyESC &&\n\t\tevent.keyCode !== keyENTER &&\n\t\t(getInputValue(input) !== '' || keyOpen) &&\n\t\tdatalistSelect !== undefined\n\t) {\n\t\t// ... prepare the options\n\t\tif (prepOptions(datalist, input).length > 0) {\n\t\t\tvisible = true;\n\t\t}\n\n\t\tvar firstEntry = 0,\n\t\t\tlastEntry = datalistSelect.options.length - 1;\n\n\t\t// ... preselect best fitting index\n\t\tif (touched) {\n\t\t\tdatalistSelect.selectedIndex = firstEntry;\n\t\t} else if (keyOpen && input.getAttribute('type') !== 'number') {\n\t\t\tdatalistSelect.selectedIndex =\n\t\t\t\tevent.keyCode === keyUP ? lastEntry : firstEntry;\n\n\t\t\t// ... and on arrow up or down keys, focus the select\n\t\t\tdatalistSelect.focus();\n\t\t}\n\t}\n\n\t// Toggle the visibility of the datalist select according to previous checks\n\ttoggleVisibility(visible, datalistSelect);\n};\n\n// On keypress check all options for that as a substring, save the original value as a data-attribute and preset that inputs value (for sorting) for all option values (probably as well enhanced by a token)\nvar updateIEOptions = function (input, datalist) {\n\tvar inputValue = getInputValue(input);\n\n\t// Loop through the options\n\tArray.prototype.slice.call(datalist.options, 0).forEach(function (option) {\n\t\t// We're using .getAttribute instead of .dataset here for IE10-\n\t\tvar dataOriginalvalue = option.getAttribute('data-originalvalue'),\n\t\t\toriginalValue = dataOriginalvalue || option.value;\n\n\t\t// In case of that the original value hasn't been saved as data so far, do that now\n\t\tif (!dataOriginalvalue) {\n\t\t\t// We're using .setAttribute instead of .dataset here for IE10-\n\t\t\toption.setAttribute('data-originalvalue', originalValue);\n\t\t}\n\n\t\t// As we'd manipulate the value in the next step, we'd like to put in that value as either a label or text if none of those exist\n\t\tif (!option.label && !option.text) {\n\t\t\toption.label = originalValue;\n\t\t}\n\n\t\t/* As mentioned in the discussion within #GH-63:\n\t\tCheck for whether the current option is a valid suggestion and replace its value by\n\t\t\t- the current input string, as IE10+ and EDGE don't do substring, but only prefix matching (#GH-36, #GH-39)\n\t\t\t- followed by a unique string that should prevent any interferance\n\t\t\t- and the original string, that is still necessary e.g. for sorting within the suggestions list\n\t\tAs the value is being inserted on users selection, we'll replace that one within the upfollowing inputInputListIE function\n\t\t*/\n\t\toption.value = isValidSuggestion(option, inputValue)\n\t\t\t? inputValue + uniquePolyfillString + originalValue.toLowerCase()\n\t\t\t: originalValue;\n\t});\n};\n\n// Check for the input and probably replace by correct options elements value\nvar inputInputListIE = function (event) {\n\tvar input = event.target,\n\t\tdatalist = input.list;\n\n\tif (\n\t\t!input.matches('input[list]') ||\n\t\t!input.matches('.' + classNameInput) ||\n\t\t!datalist\n\t) {\n\t\treturn;\n\t}\n\n\t// Query for related option - and escaping the value as doublequotes wouldn't work\n\tvar option = datalist.querySelector(\n\t\t'option[value=\"' +\n\t\t\tgetInputValue(input).replace(/\\\\([\\s\\S])|(\")/g, '\\\\$1$2') +\n\t\t\t'\"]'\n\t);\n\n\t// We're using .getAttribute instead of .dataset here for IE10-\n\tif (option && option.getAttribute('data-originalvalue')) {\n\t\tsetInputValue(input, option.getAttribute('data-originalvalue'));\n\t}\n};\n\n// Check for whether this is a valid suggestion\nvar isValidSuggestion = function (option, inputValue) {\n\tvar optValue = option.value.toLowerCase(),\n\t\tinptValue = inputValue.toLowerCase(),\n\t\tlabel = option.getAttribute('label'),\n\t\ttext = option.text.toLowerCase();\n\n\t/*\n\t\"Each option element that is a descendant of the datalist element, that is not disabled, and whose value is a string that isn't the empty string, represents a suggestion. Each suggestion has a value and a label.\"\n\t\"If appropriate, the user agent should use the suggestion's label and value to identify the suggestion to the user.\"\n\t*/\n\treturn Boolean(\n\t\toption.disabled === false &&\n\t\t\t((optValue !== '' && optValue.indexOf(inptValue) !== -1) ||\n\t\t\t\t(label && label.toLowerCase().indexOf(inptValue) !== -1) ||\n\t\t\t\t(text !== '' && text.indexOf(inptValue) !== -1))\n\t);\n};\n\n// Focusin and -out events\nvar changesInputList = function (event) {\n\t// Check for correct element on this event delegation\n\tif (!event.target.matches('input[list]')) {\n\t\treturn;\n\t}\n\n\tvar input = event.target,\n\t\tdatalist = input.list;\n\n\t// Check for whether the events target was an input and still check for an existing instance of the datalist\n\tif (input.tagName.toLowerCase() !== 'input' || datalist === null) {\n\t\treturn;\n\t}\n\n\t// Test for whether this input has already been enhanced by the polyfill\n\tif (!input.matches('.' + classNameInput)) {\n\t\tprepareInput(input, event.type);\n\t}\n\n\t// #GH-49: Microsoft EDGE / datalist popups get \"emptied\" when receiving focus via tabbing\n\tif (isEDGE && event.type === 'focusin') {\n\t\t// Set the value of the first option to it's value - this actually triggers a redraw of the complete list\n\t\tvar firstOption = input.list.options[0];\n\n\t\tfirstOption.value = firstOption.value;\n\t}\n\n\t// Break here for IE10+ & EDGE\n\tif (isGteIE10 || isEDGE) {\n\t\treturn;\n\t}\n\n\tvar // Creating the select if there's no instance so far (e.g. because of that it hasn't been handled or it has been dynamically inserted)\n\t\tdatalistSelect =\n\t\t\tdatalist.getElementsByClassName(classNamePolyfillingSelect)[0] ||\n\t\t\tsetUpPolyfillingSelect(input, datalist),\n\t\t// Either have the select set to the state to get displayed in case of that it would have been focused or because it's the target on the inputs blur - and check for general existance of any option as suggestions\n\t\tvisible =\n\t\t\tdatalistSelect &&\n\t\t\tdatalistSelect.querySelector('option:not(:disabled)') &&\n\t\t\t((event.type === 'focusin' && getInputValue(input) !== '') ||\n\t\t\t\t(event.relatedTarget && event.relatedTarget === datalistSelect));\n\n\t// Toggle the visibility of the datalist select according to previous checks\n\ttoggleVisibility(visible, datalistSelect);\n};\n\n// Prepare the input\nvar prepareInput = function (input, eventType) {\n\t// We'd like to prevent autocomplete on the input datalist field\n\tinput.setAttribute('autocomplete', 'off');\n\n\t// WAI ARIA attributes\n\tinput.setAttribute('role', 'textbox');\n\tinput.setAttribute('aria-haspopup', 'true');\n\tinput.setAttribute('aria-autocomplete', 'list');\n\tinput.setAttribute('aria-owns', input.getAttribute('list'));\n\n\t// Bind the keyup event on the related datalists input\n\tif (eventType === 'focusin') {\n\t\tinput.addEventListener('keyup', inputInputList);\n\n\t\tinput.addEventListener('focusout', changesInputList, true);\n\n\t\t// As only EDGE doesn't trigger the input event after selecting an item via mouse, we need to differentiate here\n\t\tif (isGteIE10 || (isEDGE && input.type === 'text')) {\n\t\t\tinput.addEventListener('input', inputInputListIE);\n\t\t}\n\t} else if (eventType === 'blur') {\n\t\tinput.removeEventListener('keyup', inputInputList);\n\n\t\tinput.removeEventListener('focusout', changesInputList, true);\n\n\t\t// As only EDGE doesn't trigger the input event after selecting an item via mouse, we need to differentiate here\n\t\tif (isGteIE10 || (isEDGE && input.type === 'text')) {\n\t\t\tinput.removeEventListener('input', inputInputListIE);\n\t\t}\n\t}\n\n\t// Add class for identifying that this input is even already being polyfilled\n\tinput.className += ' ' + classNameInput;\n};\n\n// Get the input value for dividing regular and mail types\nvar getInputValue = function (input) {\n\t// In case of type=email and multiple attribute, we would need to grab the last piece\n\t// Using .getAttribute here for IE9 purpose - elsewhere it wouldn't return the newer HTML5 values correctly\n\treturn input.getAttribute('type') === 'email' &&\n\t\tinput.getAttribute('multiple') !== null\n\t\t? input.value.slice(Math.max(0, input.value.lastIndexOf(',') + 1))\n\t\t: input.value;\n};\n\n// Set the input value for dividing regular and mail types\nvar setInputValue = function (input, datalistSelectValue) {\n\tvar lastSeperator;\n\n\t// In case of type=email and multiple attribute, we need to set up the resulting inputs value differently\n\tinput.value =\n\t\t// Using .getAttribute here for IE9 purpose - elsewhere it wouldn't return the newer HTML5 values correctly\n\t\tinput.getAttribute('type') === 'email' &&\n\t\tinput.getAttribute('multiple') !== null &&\n\t\t(lastSeperator = input.value.lastIndexOf(',')) > -1\n\t\t\t? input.value.slice(0, lastSeperator) + ',' + datalistSelectValue\n\t\t\t: datalistSelectValue;\n};\n\n// Binding the focus event - matching the input[list]s happens in the function afterwards\ndcmnt.addEventListener('focusin', changesInputList, true);\n\n// Break here for IE10+ & EDGE\nif (isGteIE10 || isEDGE) {\n\texit;\n}\n\n// Function for preparing and sorting the options/suggestions\nvar prepOptions = function (datalist, input) {\n\tif (typeof obs !== 'undefined') {\n\t\tobs.disconnect();\n\t}\n\n\tvar // Creating the select if there's no instance so far (e.g. because of that it hasn't been handled or it has been dynamically inserted)\n\t\tdatalistSelect =\n\t\t\tdatalist.getElementsByClassName(classNamePolyfillingSelect)[0] ||\n\t\t\tsetUpPolyfillingSelect(input, datalist),\n\t\tinputValue = getInputValue(input),\n\t\tnewSelectValues = dcmnt.createDocumentFragment(),\n\t\tdisabledValues = dcmnt.createDocumentFragment();\n\n\t// Create an array out of the options list\n\tArray.prototype.slice\n\t\t.call(datalist.querySelectorAll('option:not(:disabled)'))\n\t\t// ... sort all entries and\n\t\t.sort(function (a, b) {\n\t\t\tvar aValue = a.value,\n\t\t\t\tbValue = b.value;\n\n\t\t\t// Using the knowledge that the values are URLs to allow the user to omit the scheme part and perform intelligent matching on the domain name\n\t\t\tif (input.getAttribute('type') === 'url') {\n\t\t\t\taValue = aValue.replace(/(^\\w+:|^)\\/\\//, '');\n\t\t\t\tbValue = bValue.replace(/(^\\w+:|^)\\/\\//, '');\n\t\t\t}\n\n\t\t\treturn aValue.localeCompare(bValue);\n\t\t})\n\t\t.forEach(function (opt) {\n\t\t\tvar optionValue = opt.value,\n\t\t\t\tlabel = opt.getAttribute('label'),\n\t\t\t\ttext = opt.text;\n\n\t\t\t// Put this option into the fragment that is meant to get inserted into the select. Additionally according to the specs ...\n\t\t\t// TODO: This might get slightly changed/optimized in a future release\n\t\t\tif (isValidSuggestion(opt, inputValue)) {\n\t\t\t\tvar textOptionPart = text.slice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\toptionValue.length + textValueSeperator.length\n\t\t\t\t\t),\n\t\t\t\t\toptionPart = optionValue + textValueSeperator;\n\n\t\t\t\t// The innertext should be 'value seperator text' in case they are different\n\t\t\t\tif (\n\t\t\t\t\ttext &&\n\t\t\t\t\t!label &&\n\t\t\t\t\ttext !== optionValue &&\n\t\t\t\t\ttextOptionPart !== optionPart\n\t\t\t\t) {\n\t\t\t\t\topt.textContent = optionValue + textValueSeperator + text;\n\t\t\t\t} else if (!opt.text) {\n\t\t\t\t\t// Manipulating the option inner text, that would get displayed\n\t\t\t\t\topt.textContent = label || optionValue;\n\t\t\t\t}\n\n\t\t\t\tnewSelectValues.appendChild(opt);\n\t\t\t} else {\n\t\t\t\t// ... or put this option that isn't relevant to the users into the fragment that is supposed to get inserted outside of the select\n\t\t\t\tdisabledValues.appendChild(opt);\n\t\t\t}\n\t\t});\n\n\t// Input the options fragment into the datalists select\n\tdatalistSelect.appendChild(newSelectValues);\n\n\tvar datalistSelectOptionsLength = datalistSelect.options.length;\n\n\tdatalistSelect.size =\n\t\tdatalistSelectOptionsLength > 10 ? 10 : datalistSelectOptionsLength;\n\tdatalistSelect.multiple = !touched && datalistSelectOptionsLength < 2;\n\n\t// Input the unused options as siblings next to the select - and differentiate in between the regular, and the IE9 fix syntax upfront\n\t(datalist.getElementsByClassName('ie9_fix')[0] || datalist).appendChild(\n\t\tdisabledValues\n\t);\n\n\tif (typeof obs !== 'undefined') {\n\t\tobs.observe(datalist, {\n\t\t\tchildList: true\n\t\t});\n\t}\n\n\treturn datalistSelect.options;\n};\n\n// Define function for setting up the polyfilling select\nvar setUpPolyfillingSelect = function (input, datalist) {\n\t// Check for whether it's of one of the supported input types defined at the beginning\n\t// Using .getAttribute here for IE9 purpose - elsewhere it wouldn't return the newer HTML5 values correctly\n\t// and still check for an existing instance\n\tif (\n\t\t(input.getAttribute('type') &&\n\t\t\tsupportedTypes.indexOf(input.getAttribute('type')) === -1) ||\n\t\tdatalist === null\n\t) {\n\t\treturn;\n\t}\n\n\tvar rects = input.getClientRects(),\n\t\t// Measurements\n\t\tinputStyles = window.getComputedStyle(input),\n\t\tdatalistSelect = dcmnt.createElement('select');\n\n\t// Setting a class for easier identifying that select afterwards\n\tdatalistSelect.setAttribute('class', classNamePolyfillingSelect);\n\n\t// Set general styling related definitions\n\tdatalistSelect.style.position = 'absolute';\n\n\t// Initially hiding the datalist select\n\ttoggleVisibility(false, datalistSelect);\n\n\t// The select itself shouldn't be a possible target for tabbing\n\tdatalistSelect.setAttribute('tabindex', '-1');\n\n\t// WAI ARIA attributes\n\tdatalistSelect.setAttribute('aria-live', 'polite');\n\tdatalistSelect.setAttribute('role', 'listbox');\n\tif (!touched) {\n\t\tdatalistSelect.setAttribute('aria-multiselectable', 'false');\n\t}\n\n\t// The select should get positioned underneath the input field ...\n\tif (inputStyles.getPropertyValue('display') === 'block') {\n\t\tdatalistSelect.style.marginTop =\n\t\t\t'-' + inputStyles.getPropertyValue('margin-bottom');\n\t} else {\n\t\tvar direction =\n\t\t\tinputStyles.getPropertyValue('direction') === 'rtl' ? 'right' : 'left';\n\n\t\tdatalistSelect.style.setProperty(\n\t\t\t'margin-' + direction,\n\t\t\t'-' +\n\t\t\t\t(rects[0].width +\n\t\t\t\t\tparseFloat(inputStyles.getPropertyValue('margin-' + direction))) +\n\t\t\t\t'px'\n\t\t);\n\t\tdatalistSelect.style.marginTop =\n\t\t\tparseInt(rects[0].height + (input.offsetTop - datalist.offsetTop), 10) +\n\t\t\t'px';\n\t}\n\n\t// Set the polyfilling selects border-radius equally to the one by the polyfilled input\n\tdatalistSelect.style.borderRadius = inputStyles.getPropertyValue(\n\t\t'border-radius'\n\t);\n\tdatalistSelect.style.minWidth = rects[0].width + 'px';\n\n\tif (touched) {\n\t\tvar messageElement = dcmnt.createElement('option');\n\n\t\t// ... and it's first entry should contain the localized message to select an entry\n\t\tmessageElement.textContent = datalist.title;\n\t\t// ... and disable this option, as it shouldn't get selected by the user\n\t\tmessageElement.disabled = true;\n\t\t// ... and assign a dividable class to it\n\t\tmessageElement.setAttribute('class', 'message');\n\t\t// ... and finally insert it into the select\n\t\tdatalistSelect.appendChild(messageElement);\n\t}\n\n\t// Add select to datalist element ...\n\tdatalist.appendChild(datalistSelect);\n\n\t// ... and our upfollowing functions to the related event\n\tif (touched) {\n\t\tdatalistSelect.addEventListener('change', changeDataListSelect);\n\t} else {\n\t\tdatalistSelect.addEventListener('click', changeDataListSelect);\n\t}\n\n\tdatalistSelect.addEventListener('blur', changeDataListSelect);\n\tdatalistSelect.addEventListener('keydown', changeDataListSelect);\n\tdatalistSelect.addEventListener('keypress', datalistSelectKeyPress);\n\n\treturn datalistSelect;\n};\n\n// Functions regarding changes to the datalist polyfilling created selects keypress\nvar datalistSelectKeyPress = function (event) {\n\tvar datalistSelect = event.target,\n\t\tdatalist = datalistSelect.parentNode,\n\t\tinput = dcmnt.querySelector('input[list=\"' + datalist.id + '\"]');\n\n\t// Check for whether the events target was a select or whether the input doesn't exist\n\tif (datalistSelect.tagName.toLowerCase() !== 'select' || input === null) {\n\t\treturn;\n\t}\n\n\t// Determine a relevant key - either printable characters (that would have a length of 1) or controlling like Backspace\n\tif (event.key && (event.key === 'Backspace' || event.key.length === 1)) {\n\t\tinput.focus();\n\n\t\tif (event.key === 'Backspace') {\n\t\t\tinput.value = input.value.slice(0, -1);\n\n\t\t\t// Dispatch the input event on the related input[list]\n\t\t\tdispatchInputEvent(input);\n\t\t} else {\n\t\t\tinput.value += event.key;\n\t\t}\n\n\t\tprepOptions(datalist, input);\n\t}\n};\n\n// Change, Click, Blur, Keydown\nvar changeDataListSelect = function (event) {\n\tvar datalistSelect = event.currentTarget,\n\t\tdatalist = datalistSelect.parentNode,\n\t\tinput = dcmnt.querySelector('input[list=\"' + datalist.id + '\"]');\n\n\t// Check for whether the events target was a select or whether the input doesn't exist\n\tif (datalistSelect.tagName.toLowerCase() !== 'select' || input === null) {\n\t\treturn;\n\t}\n\n\tvar eventType = event.type,\n\t\t// ENTER and ESC\n\t\tvisible =\n\t\t\teventType === 'keydown' &&\n\t\t\tevent.keyCode !== keyENTER &&\n\t\t\tevent.keyCode !== keyESC;\n\n\t// On change, click or after pressing ENTER or TAB key, input the selects value into the input on a change within the list\n\tif (\n\t\t(eventType === 'change' ||\n\t\t\teventType === 'click' ||\n\t\t\t(eventType === 'keydown' &&\n\t\t\t\t(event.keyCode === keyENTER || event.key === 'Tab'))) &&\n\t\tdatalistSelect.value.length > 0 &&\n\t\tdatalistSelect.value !== datalist.title\n\t) {\n\t\tsetInputValue(input, datalistSelect.value);\n\n\t\t// Dispatch the input event on the related input[list]\n\t\tdispatchInputEvent(input);\n\n\t\t// Finally focusing the input, as other browser do this as well\n\t\tif (event.key !== 'Tab') {\n\t\t\tinput.focus();\n\t\t}\n\n\t\t// #GH-51 / Prevent the form to be submitted on selecting a value via ENTER key within the select\n\t\tif (event.keyCode === keyENTER) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\t// Set the visibility to false afterwards, as we're done here\n\t\tvisible = false;\n\t} else if (eventType === 'keydown' && event.keyCode === keyESC) {\n\t\t// In case of the ESC key being pressed, we still want to focus the input[list]\n\t\tinput.focus();\n\t}\n\n\t// Toggle the visibility of the datalist select according to previous checks\n\ttoggleVisibility(visible, datalistSelect);\n};\n\n// Create and dispatch the input event; divided for IE9 usage\nvar dispatchInputEvent = function (input) {\n\tvar evt;\n\n\tif (typeof Event === 'function') {\n\t\tevt = new Event('input', {\n\t\t\tbubbles: true\n\t\t});\n\t} else {\n\t\tevt = dcmnt.createEvent('Event');\n\t\tevt.initEvent('input', true, false);\n\t}\n\n\tinput.dispatchEvent(evt);\n};\n\n// Toggle the visibility of the datalist select\nvar toggleVisibility = function (visible, datalistSelect) {\n\tif (visible) {\n\t\tdatalistSelect.removeAttribute('hidden');\n\t} else {\n\t\tdatalistSelect.setAttributeNode(dcmnt.createAttribute('hidden'));\n\t}\n\n\tdatalistSelect.setAttribute('aria-hidden', (!visible).toString());\n};\n\n// Emulate the two properties regarding the datalist and input elements\n// list property / https://developer.mozilla.org/en/docs/Web/API/HTMLInputElement\n(function (constructor) {\n\tif (\n\t\tconstructor &&\n\t\tconstructor.prototype &&\n\t\tconstructor.prototype.list === undefined\n\t) {\n\t\tObject.defineProperty(constructor.prototype, 'list', {\n\t\t\tget: function () {\n\t\t\t\t/*\n\t\t\t\tAccording to the specs ...\n\t\t\t\t\"The list IDL attribute must return the current suggestions source element, if any, or null otherwise.\"\n\t\t\t\t\"If there is no list attribute, or if there is no element with that ID, or if the first element with that ID is not a datalist element, then there is no suggestions source element.\"\n\t\t\t\t*/\n\t\t\t\tvar element = dcmnt.getElementById(this.getAttribute('list'));\n\n\t\t\t\treturn typeof this === 'object' &&\n\t\t\t\t\tthis instanceof constructor &&\n\t\t\t\t\telement &&\n\t\t\t\t\telement.matches('datalist')\n\t\t\t\t\t? element\n\t\t\t\t\t: null;\n\t\t\t}\n\t\t});\n\t}\n})(window.HTMLInputElement);\n\n// Options property / https://developer.mozilla.org/en/docs/Web/API/HTMLDataListElement\n(function (constructor) {\n\tif (\n\t\tconstructor &&\n\t\tconstructor.prototype &&\n\t\tconstructor.prototype.options === undefined\n\t) {\n\t\tObject.defineProperty(constructor.prototype, 'options', {\n\t\t\tget: function () {\n\t\t\t\treturn typeof this === 'object' && this instanceof constructor\n\t\t\t\t\t? this.getElementsByTagName('option')\n\t\t\t\t\t: null;\n\t\t\t}\n\t\t});\n\t}\n})(window.HTMLElement);\n\nconst datalistPolyfill = {\n\tprepareElement: prepareElement,\n};\n\nexport default datalistPolyfill;\n"],"names":["dcmnt","window","document","ua","navigator","userAgent","datalistSupported","createElement","Boolean","HTMLDataListElement","isGteIE10","match","isEDGE","indexOf","exit","Element","prototype","matches","msMatchesSelector","touched","textValueSeperator","supportedTypes","classNamePolyfillingSelect","addEventListener","onFirstTouch","removeEventListener","obs","MutationObserver","WebKitMutationObserver","mutations","datalistNeedsAnUpdate","forEach","mutation","target","HTMLElement","tagName","toLowerCase","addedNodes","length","input","querySelector","id","getInputValue","toggleVisibility","prepOptions","getElementsByClassName","inputInputList","event","datalist","list","keyOpen","keyCode","type","updateIEOptions","focus","visible","datalistSelect","setUpPolyfillingSelect","undefined","lastEntry","options","selectedIndex","getAttribute","inputValue","Array","slice","call","option","dataOriginalvalue","originalValue","value","setAttribute","label","text","isValidSuggestion","inputInputListIE","replace","setInputValue","optValue","inptValue","disabled","changesInputList","prepareInput","firstOption","relatedTarget","eventType","className","Math","max","lastIndexOf","datalistSelectValue","lastSeperator","constructor","disconnect","newSelectValues","createDocumentFragment","disabledValues","querySelectorAll","sort","a","b","aValue","bValue","localeCompare","opt","optionValue","textOptionPart","textContent","appendChild","datalistSelectOptionsLength","size","multiple","observe","childList","rects","getClientRects","inputStyles","getComputedStyle","style","position","getPropertyValue","marginTop","direction","setProperty","width","parseFloat","parseInt","height","offsetTop","borderRadius","minWidth","messageElement","title","changeDataListSelect","datalistSelectKeyPress","parentNode","key","dispatchInputEvent","currentTarget","preventDefault","evt","Event","bubbles","createEvent","initEvent","dispatchEvent","removeAttribute","setAttributeNode","createAttribute","toString","HTMLInputElement","Object","defineProperty","get","element","getElementById","this","getElementsByTagName","prepareElement"],"mappings":"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"}